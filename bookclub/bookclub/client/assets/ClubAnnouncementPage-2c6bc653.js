import{_ as y,u as P,n as I,g as t,O as k,Q as S,r as f,o as c,c as a,a as n,j as w,i as h,b as C,F as x,h as B,s as F,P as g,m as M,k as s,p as N,e as V}from"./index-f9aec92b.js";const j={setup(){const o=P();async function r(){try{const e=o.params.clubId;await F.getClubAnnouncements(e)}catch(e){g.error(e.message)}}async function d(){try{const e=o.params.clubId;await M.getMembersByClubId(e)}catch(e){g.error(e.message)}}return I(()=>{r(),d()}),{announcements:t(()=>s.clubAnnouncements),member:t(()=>s.members),clubCreator:t(()=>s.members.find(e=>e.role=="creator")),clubAdmin:t(()=>s.members.find(e=>e.role=="admin")),account:t(()=>s.account),selectedClub:t(()=>s.selectedClub)}},components:{PostForm:k,AnnouncementCard:S}},E=o=>(N("data-v-2d5f0958"),o=o(),V(),o),L={class:"container-fluid"},O={class:"row"},Q={class:"col-12"},R={class:"m-3 fs-1"},T={key:0,class:"ps-5"},q=E(()=>n("button",{type:"button","data-bs-toggle":"collapse","data-bs-target":"#formCollapse",class:"btn orange-btn"},"Make Post",-1)),z=[q],D={class:"col-12"},G={class:"collapse",id:"formCollapse"},H={key:0,class:"m-3 fs-1"},J={class:"row"};function K(o,r,d,e,U,W){var l,i,u,m,_,b;const A=f("PostForm"),v=f("AnnouncementCard");return c(),a("div",L,[n("section",O,[n("div",Q,[n("p",R,[w(" Announcements "),e.account.id&&(((l=e.account)==null?void 0:l.id)==((i=e.clubCreator)==null?void 0:i.profile.id)||e.account.id==((u=e.clubAdmin)==null?void 0:u.profile.id))?(c(),a("span",T,z)):h("",!0)])]),n("div",D,[n("div",G,[e.account.id&&(((m=e.account)==null?void 0:m.id)==((_=e.clubCreator)==null?void 0:_.profile.id)||e.account.id==((b=e.clubAdmin)==null?void 0:b.profile.id))?(c(),a("p",H,[C(A,{isAnnouncement:!0})])):h("",!0)])])]),n("section",J,[(c(!0),a(x,null,B(e.announcements,p=>(c(),a("div",{key:p.id,class:"col-12 border border-black elevation-2 mb-3 rounded bg-light"},[C(v,{announcementProp:p},null,8,["announcementProp"])]))),128))])])}const Y=y(j,[["render",K],["__scopeId","data-v-2d5f0958"]]);export{Y as default};
