import{_ as y,u as P,n as I,g as t,Q as k,R as S,r as f,o as c,c as a,a as n,j as w,i as h,b as C,F as x,h as B,s as F,P as g,m as M,k as s,p as N,e as V}from"./index-04b1d668.js";const R={setup(){const o=P();async function r(){try{const e=o.params.clubId;await F.getClubAnnouncements(e)}catch(e){g.error(e.message)}}async function d(){try{const e=o.params.clubId;await M.getMembersByClubId(e)}catch(e){g.error(e.message)}}return I(()=>{r(),d()}),{announcements:t(()=>s.clubAnnouncements),member:t(()=>s.members),clubCreator:t(()=>s.members.find(e=>e.role=="creator")),clubAdmin:t(()=>s.members.find(e=>e.role=="admin")),account:t(()=>s.account),selectedClub:t(()=>s.selectedClub)}},components:{PostForm:k,AnnouncementCard:S}},j=o=>(N("data-v-2d5f0958"),o=o(),V(),o),E={class:"container-fluid"},L={class:"row"},Q={class:"col-12"},T={class:"m-3 fs-1"},q={key:0,class:"ps-5"},z=j(()=>n("button",{type:"button","data-bs-toggle":"collapse","data-bs-target":"#formCollapse",class:"btn orange-btn"},"Make Post",-1)),D=[z],G={class:"col-12"},H={class:"collapse",id:"formCollapse"},J={key:0,class:"m-3 fs-1"},K={class:"row"};function O(o,r,d,e,U,W){var l,i,u,m,_,b;const A=f("PostForm"),v=f("AnnouncementCard");return c(),a("div",E,[n("section",L,[n("div",Q,[n("p",T,[w(" Announcements "),e.account.id&&(((l=e.account)==null?void 0:l.id)==((i=e.clubCreator)==null?void 0:i.profile.id)||e.account.id==((u=e.clubAdmin)==null?void 0:u.profile.id))?(c(),a("span",q,D)):h("",!0)])]),n("div",G,[n("div",H,[e.account.id&&(((m=e.account)==null?void 0:m.id)==((_=e.clubCreator)==null?void 0:_.profile.id)||e.account.id==((b=e.clubAdmin)==null?void 0:b.profile.id))?(c(),a("p",J,[C(A,{isAnnouncement:!0})])):h("",!0)])])]),n("section",K,[(c(!0),a(x,null,B(e.announcements,p=>(c(),a("div",{key:p.id,class:"col-12 border border-black elevation-2 mb-3 rounded bg-light"},[C(v,{announcementProp:p},null,8,["announcementProp"])]))),128))])])}const Y=y(R,[["render",O],["__scopeId","data-v-2d5f0958"]]);export{Y as default};
